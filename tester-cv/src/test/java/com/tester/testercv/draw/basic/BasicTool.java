package com.tester.testercv.draw.basic;

import com.alibaba.fastjson.JSONObject;
import com.tester.testercv.draw.ImgNodeBuilder;
import org.springframework.util.StringUtils;

import java.util.*;
import java.util.stream.Collectors;

/**
 * @Author 温昌营
 * @Date
 */
public class BasicTool {

    public static final String SPLIT_STR = ";";

    public static ImgNodeBuilder.LinkedNode getLinkNode(){
        String nodeStr = getNodeStr();
        List<NodeModelDO> nodeModelDOS = JSONObject.parseArray(nodeStr, NodeModelDO.class);
        return paresNode(nodeModelDOS);
    }

    public static List<FormFieldConditionDO> listConditions(){
        String condStr = getCondStr();
        return JSONObject.parseArray(condStr, FormFieldConditionDO.class);
    }


    private static ImgNodeBuilder.LinkedNode paresNode(List<NodeModelDO> nodes){
        Optional<NodeModelDO> first = nodes.stream().filter(e -> Objects.equals(e.getNodeType(), NodeTypeEnum.START.getValue())).findFirst();
        if(!first.isPresent()){
            return null;
        }
        NodeModelDO nodeModelDO = first.get();
        ImgNodeBuilder.LinkedNode start = new ImgNodeBuilder.LinkedNode(nodeModelDO);
        parseNodeSub(start,nodes);
        return start;
    }

    private static void parseNodeSub(ImgNodeBuilder.LinkedNode current, List<NodeModelDO> nodes){
        String nextNodeKeyList = current.getNode().getNextNodeKeyList();
        if(StringUtils.isEmpty(nextNodeKeyList)){
            return;
        }
        String[] split = nextNodeKeyList.split(SPLIT_STR);
        Set<String> nextSet = new HashSet<>(Arrays.asList(split));
        List<NodeModelDO> collect = nodes.stream().filter(e -> nextSet.contains(e.getNodeKey())).collect(Collectors.toList());
        for (NodeModelDO node : collect) {
            ImgNodeBuilder.LinkedNode temp_Node;
            temp_Node = new ImgNodeBuilder.LinkedNode(node);
            current.getAllNexts().add(temp_Node);
            parseNodeSub(temp_Node,nodes);
        }
    }


    private static String getNodeStr(){
        return "[{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":61,\"nextNodeKeyList\":\"cond01_annual_leave\",\"nodeKey\":\"start of the flow\",\"nodeType\":1,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":62,\"nextNodeKeyList\":\"cond21_generalManager;cond05_lactation_leave\",\"nodeKey\":\"cond01_annual_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":63,\"nextNodeKeyList\":\"cond21_generalManager;cond06_bereavement_leave\",\"nodeKey\":\"cond05_lactation_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":64,\"nextNodeKeyList\":\"cond21_generalManager;cond07_absence_leave\",\"nodeKey\":\"cond06_bereavement_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":65,\"nextNodeKeyList\":\"cond21_generalManager;cond08_overtime_leave\",\"nodeKey\":\"cond07_absence_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":66,\"nextNodeKeyList\":\"cond21_generalManager;cond09_maternity_leave\",\"nodeKey\":\"cond08_overtime_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":67,\"nextNodeKeyList\":\"cond21_generalManager;cond10_sick_leave\",\"nodeKey\":\"cond09_maternity_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":68,\"nextNodeKeyList\":\"cond21_generalManager;cond11_paternity_leave\",\"nodeKey\":\"cond10_sick_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":69,\"nextNodeKeyList\":\"userTask1_vporboss;cond22_hr_manager\",\"nodeKey\":\"cond21_generalManager\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":70,\"limitType\":2,\"nextNodeKeyList\":\"userTask2_attend_role\",\"nodeKey\":\"userTask1_vporboss\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"34\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":3,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":71,\"limitType\":2,\"nextNodeKeyList\":\"end1\",\"nodeKey\":\"userTask2_attend_role\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"32\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":72,\"nextNodeKeyList\":\"\",\"nodeKey\":\"end1\",\"nodeType\":2,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":73,\"nextNodeKeyList\":\"userTask3_manage_general_manager;cond23_hrRole\",\"nodeKey\":\"cond22_hr_manager\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":74,\"limitType\":2,\"nextNodeKeyList\":\"userTask4_attend_role\",\"nodeKey\":\"userTask3_manage_general_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"20\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":3,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":75,\"limitType\":2,\"nextNodeKeyList\":\"end1\",\"nodeKey\":\"userTask4_attend_role\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"32\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":76,\"nextNodeKeyList\":\"userTask5_hr_manager;cond24_manager\",\"nodeKey\":\"cond23_hrRole\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":77,\"limitType\":2,\"nextNodeKeyList\":\"cond31_leave_days_lt_7\",\"nodeKey\":\"userTask5_hr_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"33\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":78,\"nextNodeKeyList\":\"userTask2_attend_role;userTask3_manage_general_manager\",\"nodeKey\":\"cond31_leave_days_lt_7\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":79,\"limitType\":2,\"nextNodeKeyList\":\"userTask7_attend_role\",\"nodeKey\":\"userTask6_manage_general_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"20\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":3,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":80,\"limitType\":2,\"nextNodeKeyList\":\"end1\",\"nodeKey\":\"userTask7_attend_role\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"32\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":81,\"nextNodeKeyList\":\"cond32_leave_days_gt_3;cond25_vporboss\",\"nodeKey\":\"cond24_manager\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":82,\"nextNodeKeyList\":\"userTask8_general_manager;userTask9_attend_role\",\"nodeKey\":\"cond32_leave_days_gt_3\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":83,\"limitType\":3,\"nextNodeKeyList\":\"userTask10_hr_manager\",\"nodeKey\":\"userTask8_general_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"11\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":84,\"limitType\":2,\"nextNodeKeyList\":\"cond41_leave_days_lt_7\",\"nodeKey\":\"userTask10_hr_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"33\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":85,\"nextNodeKeyList\":\"userTask9_attend_role;userTask11_manage_general_manager\",\"nodeKey\":\"cond41_leave_days_lt_7\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":3,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":86,\"limitType\":2,\"nextNodeKeyList\":\"end1\",\"nodeKey\":\"userTask9_attend_role\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"32\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":87,\"limitType\":2,\"nextNodeKeyList\":\"userTask9_attend_role\",\"nodeKey\":\"userTask11_manage_general_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"20\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":88,\"nextNodeKeyList\":\"exception_end1;task12_manager\",\"nodeKey\":\"cond25_vporboss\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":89,\"nextNodeKeyList\":\"\",\"nodeKey\":\"exception_end1\",\"nodeType\":21,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":90,\"limitType\":3,\"nextNodeKeyList\":\"cond32_leave_days_gt_3\",\"nodeKey\":\"task12_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"31\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":91,\"nextNodeKeyList\":\"cond26_hr_manager;cond12_marriage_leave\",\"nodeKey\":\"cond11_paternity_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":92,\"nextNodeKeyList\":\"cond26_hr_manager;cond15_birth_leave\",\"nodeKey\":\"cond12_marriage_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":93,\"nextNodeKeyList\":\"cond26_hr_manager;cond16_abortion_leave\",\"nodeKey\":\"cond15_birth_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":94,\"nextNodeKeyList\":\"cond26_hr_manager;cond17_domestic_travel\",\"nodeKey\":\"cond16_abortion_leave\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":95,\"nextNodeKeyList\":\"userTask13_manage_general_manager;cond27_hrRole\",\"nodeKey\":\"cond26_hr_manager\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":96,\"limitType\":2,\"nextNodeKeyList\":\"userTask14_attend_role\",\"nodeKey\":\"userTask13_manage_general_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"20\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":3,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":97,\"limitType\":2,\"nextNodeKeyList\":\"end1\",\"nodeKey\":\"userTask14_attend_role\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"32\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":98,\"nextNodeKeyList\":\"userTask15_hr_manager;cond28_manager\",\"nodeKey\":\"cond27_hrRole\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":99,\"limitType\":2,\"nextNodeKeyList\":\"userTask13_manage_general_manager\",\"nodeKey\":\"userTask15_hr_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"33\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":100,\"nextNodeKeyList\":\"userTask15_hr_manager;cond29_vporboss\",\"nodeKey\":\"cond28_manager\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":101,\"nextNodeKeyList\":\"exception_end2;task16_manager\",\"nodeKey\":\"cond29_vporboss\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":102,\"nextNodeKeyList\":\"\",\"nodeKey\":\"exception_end2\",\"nodeType\":21,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":103,\"limitType\":3,\"nextNodeKeyList\":\"userTask15_hr_manager\",\"nodeKey\":\"task16_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"31\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":104,\"nextNodeKeyList\":\"task17_manager;cond18_oversea_travel\",\"nodeKey\":\"cond17_domestic_travel\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":105,\"nextNodeKeyList\":\"task17_manager;cond19_business_travel\",\"nodeKey\":\"cond18_oversea_travel\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":106,\"nextNodeKeyList\":\"task17_manager;exception_end2\",\"nodeKey\":\"cond19_business_travel\",\"nodeType\":4,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":1,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":107,\"limitType\":3,\"nextNodeKeyList\":\"userTask18_attend_role\",\"nodeKey\":\"task17_manager\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"31\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"approverType\":4,\"coopType\":3,\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":108,\"limitType\":2,\"nextNodeKeyList\":\"end1\",\"nodeKey\":\"userTask18_attend_role\",\"nodeType\":3,\"revision\":0,\"serialNumber\":0,\"specificIdList\":\"32\",\"updateTime\":1614166277000},{\"activitiFlowId\":\"reuse_process_key_uuid_1584953640420\",\"createTime\":1614166277000,\"deleted\":0,\"flowModelId\":16,\"id\":109,\"nextNodeKeyList\":\"\",\"nodeKey\":\"exception_end2\",\"nodeType\":21,\"revision\":0,\"serialNumber\":0,\"updateTime\":1614166277000}]";
    }
    private static String getCondStr(){
        return "[{\"checkType\":3,\"checkValue\":\"1\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond05_lactation_leave\",\"falseNextId\":63,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":25,\"nodeId\":62,\"nodeKey\":\"cond01_annual_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"4\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond06_bereavement_leave\",\"falseNextId\":64,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":26,\"nodeId\":63,\"nodeKey\":\"cond05_lactation_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"5\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond07_absence_leave\",\"falseNextId\":65,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":27,\"nodeId\":64,\"nodeKey\":\"cond06_bereavement_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"6\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond08_overtime_leave\",\"falseNextId\":66,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":28,\"nodeId\":65,\"nodeKey\":\"cond07_absence_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"7\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond09_maternity_leave\",\"falseNextId\":67,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":29,\"nodeId\":66,\"nodeKey\":\"cond08_overtime_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"10\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond10_sick_leave\",\"falseNextId\":68,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":30,\"nodeId\":67,\"nodeKey\":\"cond09_maternity_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"11\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond11_paternity_leave\",\"falseNextId\":91,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":31,\"nodeId\":68,\"nodeKey\":\"cond10_sick_leave\",\"revision\":0,\"trueNext\":\"cond21_generalManager\",\"trueNextId\":69,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"11\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond22_hr_manager\",\"falseNextId\":73,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":32,\"nodeId\":69,\"nodeKey\":\"cond21_generalManager\",\"revision\":0,\"trueNext\":\"userTask1_vporboss\",\"trueNextId\":70,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"33\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond23_hrRole\",\"falseNextId\":76,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":33,\"nodeId\":73,\"nodeKey\":\"cond22_hr_manager\",\"revision\":0,\"trueNext\":\"userTask3_manage_general_manager\",\"trueNextId\":74,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"30\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond24_manager\",\"falseNextId\":81,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":34,\"nodeId\":76,\"nodeKey\":\"cond23_hrRole\",\"revision\":0,\"trueNext\":\"userTask5_hr_manager\",\"trueNextId\":77,\"updateTime\":1614166277000},{\"checkType\":2,\"checkValue\":\"7\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"userTask3_manage_general_manager\",\"falseNextId\":74,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":12,\"formFieldKey\":\"leave_days\",\"id\":35,\"nodeId\":78,\"nodeKey\":\"cond31_leave_days_lt_7\",\"revision\":0,\"trueNext\":\"userTask2_attend_role\",\"trueNextId\":71,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"31\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond25_vporboss\",\"falseNextId\":88,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":36,\"nodeId\":81,\"nodeKey\":\"cond24_manager\",\"revision\":0,\"trueNext\":\"cond32_leave_days_gt_3\",\"trueNextId\":82,\"updateTime\":1614166277000},{\"checkType\":1,\"checkValue\":\"3\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"userTask9_attend_role\",\"falseNextId\":86,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":12,\"formFieldKey\":\"leave_days\",\"id\":37,\"nodeId\":82,\"nodeKey\":\"cond32_leave_days_gt_3\",\"revision\":0,\"trueNext\":\"userTask8_general_manager\",\"trueNextId\":83,\"updateTime\":1614166277000},{\"checkType\":2,\"checkValue\":\"7\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"userTask11_manage_general_manager\",\"falseNextId\":87,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":12,\"formFieldKey\":\"leave_days\",\"id\":38,\"nodeId\":85,\"nodeKey\":\"cond41_leave_days_lt_7\",\"revision\":0,\"trueNext\":\"userTask9_attend_role\",\"trueNextId\":86,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"34\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"task12_manager\",\"falseNextId\":90,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":39,\"nodeId\":88,\"nodeKey\":\"cond25_vporboss\",\"revision\":0,\"trueNext\":\"exception_end1\",\"trueNextId\":89,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"2\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond12_marriage_leave\",\"falseNextId\":92,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":40,\"nodeId\":91,\"nodeKey\":\"cond11_paternity_leave\",\"revision\":0,\"trueNext\":\"cond26_hr_manager\",\"trueNextId\":95,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"3\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond15_birth_leave\",\"falseNextId\":93,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":41,\"nodeId\":92,\"nodeKey\":\"cond12_marriage_leave\",\"revision\":0,\"trueNext\":\"cond26_hr_manager\",\"trueNextId\":95,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"8\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond16_abortion_leave\",\"falseNextId\":94,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":42,\"nodeId\":93,\"nodeKey\":\"cond15_birth_leave\",\"revision\":0,\"trueNext\":\"cond26_hr_manager\",\"trueNextId\":95,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"9\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond17_domestic_travel\",\"falseNextId\":104,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":43,\"nodeId\":94,\"nodeKey\":\"cond16_abortion_leave\",\"revision\":0,\"trueNext\":\"cond26_hr_manager\",\"trueNextId\":95,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"33\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond27_hrRole\",\"falseNextId\":98,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":44,\"nodeId\":95,\"nodeKey\":\"cond26_hr_manager\",\"revision\":0,\"trueNext\":\"userTask13_manage_general_manager\",\"trueNextId\":96,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"30\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond28_manager\",\"falseNextId\":100,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":45,\"nodeId\":98,\"nodeKey\":\"cond27_hrRole\",\"revision\":0,\"trueNext\":\"userTask15_hr_manager\",\"trueNextId\":99,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"31\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond29_vporboss\",\"falseNextId\":101,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":46,\"nodeId\":100,\"nodeKey\":\"cond28_manager\",\"revision\":0,\"trueNext\":\"userTask15_hr_manager\",\"trueNextId\":99,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"34\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"task16_manager\",\"falseNextId\":103,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":10,\"formFieldKey\":\"requester_group\",\"id\":47,\"nodeId\":101,\"nodeKey\":\"cond29_vporboss\",\"revision\":0,\"trueNext\":\"exception_end2\",\"trueNextId\":102,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"101\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond18_oversea_travel\",\"falseNextId\":105,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":48,\"nodeId\":104,\"nodeKey\":\"cond17_domestic_travel\",\"revision\":0,\"trueNext\":\"task17_manager\",\"trueNextId\":107,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"102\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"cond19_business_travel\",\"falseNextId\":106,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":49,\"nodeId\":105,\"nodeKey\":\"cond18_oversea_travel\",\"revision\":0,\"trueNext\":\"task17_manager\",\"trueNextId\":107,\"updateTime\":1614166277000},{\"checkType\":3,\"checkValue\":\"103\",\"createTime\":1614166277000,\"deleted\":0,\"falseNext\":\"exception_end2\",\"falseNextId\":102,\"fieldType\":1,\"flowModelId\":16,\"formFieldId\":11,\"formFieldKey\":\"shift_type\",\"id\":50,\"nodeId\":106,\"nodeKey\":\"cond19_business_travel\",\"revision\":0,\"trueNext\":\"task17_manager\",\"trueNextId\":107,\"updateTime\":1614166277000}]";
    }
}
